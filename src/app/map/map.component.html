<div class="container">
  <div class="row">
    <div class="col-md-12">

      <div [ngClass]="{'visibility-hidden': !latLng}">

        <sebm-google-map
            #sebmGoogleMap
            [fitBounds]="latLng"
            [maxZoom]="maxZoom"
            [zoomControl]="false"
            (swipeleft)="touch($event.type)"
            (swiperight)="touch($event.type)"
            (tap)="touch($event.type)"
            (press)="touch($event.type)"
            (pinch)="touch($event.type)"
            (pinchstart)="touch($event.type)"
            (pinchend)="touch($event.type)"
        >
          <sebm-google-map-marker #markers
                                  *ngFor="let rider of riders; let i = index"
                                  [latitude]="rider.lat"
                                  [longitude]="rider?.lng"
                                  [label]="{text: rider?.initials, color: 'black'}"
                                  [markerDraggable]="true"
                                  [iconUrl]="markerUrl + colors[rider?.color] + '.png'"
                                  [zIndex]="rider?.zInd"
                                  [opacity]="rider?.opacity"
                                  (markerClick)="closeInfoWindows(rider?._id)"
          >

            <sebm-google-map-info-window #infoWindows
                                         attr.data-index={{rider?._id}}
            >
              <div class="info-window">{{rider?.fname}} {{ rider?.lname}}
                <span *ngIf="rider?.phone"><br/>{{rider?.phone}}</span>
                <span *ngIf="rider?.disconnected"><br/>Last heard from {{minutes[rider._id]}} minute<span
                    *ngIf="minutes[rider._id] !== 1">s</span> ago.</span>
                <span><br/></span>
              </div>
            </sebm-google-map-info-window>

          </sebm-google-map-marker>


        </sebm-google-map>

        <div id="map-buttons">
          <button class="btn btn-primary" type="button" (click)="fitAllRiders()">Show All Riders</button>
          <button class="btn btn-info" (click)="focusOnUser()">Zoom In On Me</button>
        </div>
      </div>

      <div [ngClass]="{'display-none': latLng,'launching-satellites': !latLng}">
        <div>
          <h3>Launching satellites ...</h3>
        </div>
      </div>


    </div>
  </div>
</div>



