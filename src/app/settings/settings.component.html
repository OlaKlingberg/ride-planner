<!-- Todo: Validation doesn't work the way I want to. -->
<form name="form" #f="ngForm" novalidate>

  <div class="container page-settings">

        <div class="row">
          <div class="col-12">
            <h2>Settings</h2>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-4"> <!-- Column 1 -->
            <div *ngIf="!production" class="mb-2">
              <label class="mb-0">Mode</label><br>
              <mat-radio-group [(ngModel)]='settings.demoMode' name="demoMode">
                <mat-radio-button value='no'>Live</mat-radio-button>
                <mat-radio-button value='yes'>Demo</mat-radio-button>
              </mat-radio-group>
            </div>

            <!--
            <div class="mb-2">
              <label class="mb-0">Storage</label><br>
              <mat-radio-group [(ngModel)]='settings.storage' name="storage">
                <mat-radio-button value='sessionStorage'>Session</mat-radio-button>
                <mat-radio-button value='localStorage'>Local</mat-radio-button>
              </mat-radio-group>
            </div>
-->

            <div class="mb-2">
              <label class="mb-0">Storage</label><br>
              <input type="radio" name="storage" value="sessionStorage" [(ngModel)]="settings.storage" id="session">
              <label for="session">Session</label>
              <input type="radio" name="storage" value="localStorage" [(ngModel)]="settings.storage" id="local">
              <label for="local">Local</label>
            </div>

            <div class="mb-2">
              <label class="mb-0" class="mb-0">Dummy Position</label>
              <p class="mb-0">(For user's own marker)</p>
              <mat-radio-group [(ngModel)]="settings.dummyPos" name="dummyPos">
                <mat-radio-button value='yes'>Yes</mat-radio-button>
                <mat-radio-button value='no'>No</mat-radio-button>
              </mat-radio-group>
            </div>

            <div class="mb-2">
              <label class="mb-0">Dummy Movements</label>
              <p class="mb-0">(For user's own marker)</p>
              <mat-radio-group [(ngModel)]='settings.dummyMov' name="dummyMov">
                <mat-radio-button value='yes'>Yes</mat-radio-button>
                <mat-radio-button value='no'>No</mat-radio-button>
              </mat-radio-group>
            </div>
          </div> <!-- End of Column 1 -->

          <div class="col-lg-8"> <!-- Column 2 -->
            <div>
              <mat-form-field>
                <input class="form-control w-25 float-left" type="number" step="1" [(ngModel)]="settings.dummyPosAddMin"
                       name="dummyPosAddMin">
                <label class="mb-0">User's dummy position: add minimum</label>
                <p class="mb-0">(in 1/100,000 of a degree)</p>
              </mat-form-field>
            </div>

            <div>
              <mat-form-field>
                <input class="form-control-sm" type="number" step="1" [(ngModel)]="settings.dummyPosAddMax"
                       name="dummyPosAddMax">
                <label class="move-down">User's dummy position: add maximum<br>(in 1/100,000 of a degree)</label>
              </mat-form-field>
            </div>

            <div>
              <mat-form-field>
                <input class="form-control-sm" type="number" step="1" [(ngModel)]="settings.dummyMovIncMin"
                       name="dummyMovIncMin">
                <label class="move-down">User's dummy movement: minumum increment<br>(in 1/100,000 of a
                  degree)</label><br>
              </mat-form-field>
            </div>

            <div>
              <mat-form-field>
                <input class="form-control-sm" type="number" step="1" [(ngModel)]="settings.dummyMovIncMax"
                       name="dummyMovIncMax">
                <label class="move-down">User's dummy movement: maximum increment<br>(in 1/100,000 of a
                  degree)</label><br>
              </mat-form-field>
            </div>

            <div>
              <mat-form-field>
                <input matInput
                       class="form-control-sm"
                       type="number"
                       step=".5"
                       min=".5"
                       [(ngModel)]="settings.dummyUpdateFreq"
                       name="dummyUpdateFreq"
                       id="dummyUpdateFreq"
                       #dummyUpdateFreq="ngModel">
                <label class="move-down">User's dummy position update frequency<br>(in seconds, minimum .5s)</label>
              </mat-form-field>
            </div>

            <div>
              <mat-form-field>
                <input class="form-control-sm" type="number" step="1" [(ngModel)]='settings.removeLongDisconnectedRiders'
                       name="removeLongDisconnectedRiders">
                <label class="move-down">Remove riders who have been disconnected for ...<br>(in minutes)</label><br>
              </mat-form-field>
            </div>

            <div>
              <mat-form-field>
                <input type="number" class="form-control-sm" step="1" [(ngModel)]=settings.fadeNav name="fadeNav">
                <label class="move-down">Fade nav bar on map after ...<br>(in seconds)</label><br>
              </mat-form-field>
            </div>

            <div>
              <mat-form-field>
                <input type="number" class="form-control-sm" step=".5" [(ngModel)]=settings.refreshMapPage
                       name="refreshMapPage">
                <label class="move-down">Refresh map every ...<br>(in minutes)</label><br>
              </mat-form-field>
            </div>

            <div>
              <mat-form-field>
                <input type="number" class="form-control-sm" step="1" [(ngModel)]=settings.refreshOnNavigationAfter
                       name="refreshOnNavigationAfter">
                <label class="move-down">Refresh on navigation after ...<br>(in minutes)</label><br>
              </mat-form-field>
            </div>

          </div> <!-- End of Column 2 -->

        </div>






        <div class="row">
          <div class="col-12">
            <div *ngIf="!f.form.pristine && !showRefreshButton" class="buttons-container">
              <button [disabled]="!f.form.valid" type="submit" class="btn btn-primary btn-md btn-40" (click)="save()">
                Save Changes
              </button>
              <button type="button" class="btn btn-warning btn-md btn-40" (click)="f.form.reset(); cancel()">Cancel
              </button>
            </div>
            <button *ngIf="showRefreshButton" type="submit" class="btn btn-primary" (click)="refresh()">Refresh the
              Browser
            </button>

          </div>
        </div>



  </div>

</form>